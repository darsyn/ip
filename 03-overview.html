
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="Zan Baldwin">
      
      
        <link rel="canonical" href="https://darsyn.github.io/ip/03-overview.html">
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.2.15">
    
    
      
        <title>Overview - Darsyn IP</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.c382b1dc.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.cc9b2e1e.min.css">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL(".",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="none" data-md-color-accent="none">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="index.html" title="Darsyn IP" class="md-header__button md-logo" aria-label="Darsyn IP" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Darsyn IP
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Overview
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/darsyn/ip" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="Darsyn IP" class="md-nav__button md-logo" aria-label="Darsyn IP" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Darsyn IP
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/darsyn/ip" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="02-installation.html" class="md-nav__link">
        Installation
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Overview
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="03-overview.html" class="md-nav__link md-nav__link--active">
        Overview
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#versions" class="md-nav__link">
    Versions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instantiation" class="md-nav__link">
    Instantiation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#return-formats" class="md-nav__link">
    Return Formats
  </a>
  
    <nav class="md-nav" aria-label="Return Formats">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dot-address" class="md-nav__link">
    Dot Address
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compacted-address" class="md-nav__link">
    Compacted Address
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expanded-address" class="md-nav__link">
    Expanded Address
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#protocol-appropriate-address" class="md-nav__link">
    Protocol Appropriate Address
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#binary" class="md-nav__link">
    Binary
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#string-casting" class="md-nav__link">
    String Casting
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="04-helpers.html" class="md-nav__link">
        Helper Methods
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="05-strategies.html" class="md-nav__link">
        Embedding Strategies
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="06-formatters.html" class="md-nav__link">
        Formatters
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="07-types.html" class="md-nav__link">
        Type Methods
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="08-doctrine.html" class="md-nav__link">
        Doctrine Support
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="09-utilities.html" class="md-nav__link">
        Utilities
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="10-api.html" class="md-nav__link">
        API Reference
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#versions" class="md-nav__link">
    Versions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#instantiation" class="md-nav__link">
    Instantiation
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#return-formats" class="md-nav__link">
    Return Formats
  </a>
  
    <nav class="md-nav" aria-label="Return Formats">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#dot-address" class="md-nav__link">
    Dot Address
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#compacted-address" class="md-nav__link">
    Compacted Address
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#expanded-address" class="md-nav__link">
    Expanded Address
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#protocol-appropriate-address" class="md-nav__link">
    Protocol Appropriate Address
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#binary" class="md-nav__link">
    Binary
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#string-casting" class="md-nav__link">
    String Casting
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/darsyn/ip/edit/master/docs/03-overview.md" title="Edit this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



<h1 id="overview">Overview</h1>
<p>IP addresses get automatically validated on creation through the static factory
method; if the IP address supplied is invalid an <code>InvalidIpAddressException</code>
will be thrown.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="cp">&lt;?php</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="k">use</span> <span class="nx">Darsyn\IP\Version\IPv4</span><span class="p">;</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="k">use</span> <span class="nx">Darsyn\IP\Exception</span><span class="p">;</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="k">try</span> <span class="p">{</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>    <span class="nv">$ip</span> <span class="o">=</span> <span class="nx">IPv4</span><span class="o">::</span><span class="na">factory</span><span class="p">(</span><span class="s1">&#39;127.0.0.1&#39;</span><span class="p">);</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">Exception\InvalidIpAddressException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>    <span class="k">echo</span> <span class="s1">&#39;The IP address supplied is invalid!&#39;</span><span class="p">;</span>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="p">}</span>
</code></pre></div>
<h2 id="versions">Versions</h2>
<p>This library can work with version 4 addresses, version 6 addresses, or both
formats interchangeably using the classes <code>Darsyn\IP\Version\IPv4</code>,
<code>Darsyn\IP\Version\IPv6</code> and <code>Darsyn\IP\Version\Multi</code> respectively.</p>
<p>All versions implement <code>Darsyn\IP\IpInterface</code>, along with extra interfaces for
each version:</p>
<ul>
<li><code>IPv4</code> implements <code>Darsyn\IP\Version\Version4Interface</code>,</li>
<li><code>IPv6</code> implements <code>Darsyn\IP\Version\Version6Interface</code>,</li>
<li><code>Multi</code> implements <code>Darsyn\IP\Version\MultiVersionInterface</code>
  (which in turn implements <em>both</em> <code>Version4Interface</code> and <code>Version6Interface</code>).</li>
</ul>
<p>If you try to use a version 6 address with the <code>IPv4</code> class, or a version 4
address with the <code>IPv6</code> class, then a <code>Darsyn\IP\Exception\WrongVersionException</code>
will be thrown.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="cp">&lt;?php</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="k">use</span> <span class="nx">Darsyn\IP\Version\IPv4</span><span class="p">;</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="k">use</span> <span class="nx">Darsyn\IP\Exception</span><span class="p">;</span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="k">try</span> <span class="p">{</span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>    <span class="nv">$ip</span> <span class="o">=</span> <span class="nx">IPv4</span><span class="o">::</span><span class="na">factory</span><span class="p">(</span><span class="s1">&#39;::1&#39;</span><span class="p">);</span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">Exception\WrongVersionException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>    <span class="k">echo</span> <span class="s1">&#39;Only version 4 IP addresses are allowed!&#39;</span><span class="p">;</span>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">Exception\InvalidIpAddressException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>    <span class="k">echo</span> <span class="s1">&#39;The IP address supplied is invalid!&#39;</span><span class="p">;</span>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="p">}</span>
</code></pre></div>
<blockquote>
<p><strong>Note:</strong> The <code>WrongVersionException</code> is provided to give finer control on
handling errors. It extends <code>InvalidIpAddressException</code> so catching it isn't
necessary.</p>
</blockquote>
<p>Each class has methods for determining the version:</p>
<ul>
<li><code>$ip-&gt;getVersion()</code> returns the IP address version (either <code>int(4)</code> or
  <code>int(6)</code>). </li>
<li><code>$ip-&gt;isVersion($version)</code> returns a boolean value on whether the <code>$ip</code> object
  is the version specified in <code>$version</code> (which must be either <code>int(4)</code> or
  <code>int(6)</code>).</li>
<li><code>$ip-&gt;isVersion4()</code> returns a boolean value on whether the <code>$ip</code> object
  contains a version 4 address.</li>
<li><code>$ip-&gt;isVersion6()</code> returns a boolean value on whether the <code>$ip</code> object
  contains a version 6 address.</li>
</ul>
<blockquote>
<p><strong>Note:</strong> When using the <code>Multi</code> class, the address version is determined by
what <a href="05-strategies.html">embedding strategy</a> is used rather than what
notation was passed to the constructor.</p>
</blockquote>
<h2 id="instantiation">Instantiation</h2>
<p>All classes are instantiated using the <code>factory()</code> static method. This method
validates the input and converts it into binary. In the case of the <code>Multi</code>
class it also packs any version 4 addresses into a version 6 address.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="cp">&lt;?php</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="k">use</span> <span class="nx">Darsyn\IP\Version\Multi</span> <span class="k">as</span> <span class="nx">IP</span><span class="p">;</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="k">try</span> <span class="p">{</span>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>    <span class="nv">$ip</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">IP</span><span class="p">(</span><span class="s1">&#39;127.0.0.1&#39;</span><span class="p">);</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">\Error</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>    <span class="k">echo</span> <span class="s1">&#39;Cannot create IP using &quot;new&quot;; please use IP::factory() instead.&#39;</span><span class="p">;</span>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="p">}</span>
</code></pre></div>
<blockquote>
<p>Many instances are constructed for all <a href="04-helpers.html">helper</a> and
<a href="07-types.html">type</a> methods. Validating the input every time a new instance
is constructed slows things down considerably, so to speed up internal
processes the constructor does not perform any input validation. Because of
this the constructor method has been kept private.</p>
</blockquote>
<h2 id="return-formats">Return Formats</h2>
<p>Once an IP object has been initialised, the IP address value can be returned in
either human-readable format or in binary.</p>
<p>This binary string will <em>always</em> be 4 bytes long when using <code>IPv4</code> and 16 bytes
long when using <code>IPv6</code> and <code>Multi</code>.</p>
<p>Human-readable format comes in 3 flavours:</p>
<ul>
<li>Dot notation is for IPv4 addresses, eg <code>127.0.0.1</code>.</li>
<li>Compacted is for IPv6 addresses, eg <code>2001:db8::a60:8a2e:370:7334</code>.</li>
<li>Expanded is for IPv6 addresses, eg <code>2001:0db8:0000:0000:0a60:8a2e:0370:7334</code>.</li>
</ul>
<h3 id="dot-address">Dot Address</h3>
<p><code>getDotAddress()</code> is only available for <code>IPv4</code> and <code>Multi</code> classes. Calling
<code>getDotAddress()</code> on an instance of <code>Multi</code> that contains a version 6 address
will result in a <code>WrongVersionException</code> being thrown.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="cp">&lt;?php</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="k">use</span> <span class="nx">Darsyn\IP\Version\Multi</span> <span class="k">as</span> <span class="nx">IP</span><span class="p">;</span>
<a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="k">use</span> <span class="nx">Darsyn\IP\Exception</span><span class="p">;</span>
<a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a>
<a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="nv">$ip</span> <span class="o">=</span> <span class="nx">IP</span><span class="o">::</span><span class="na">factory</span><span class="p">(</span><span class="s1">&#39;127.0.0.1&#39;</span><span class="p">);</span>
<a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a>
<a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="k">try</span> <span class="p">{</span>
<a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>    <span class="k">echo</span> <span class="nv">$ip</span><span class="o">-&gt;</span><span class="na">getDotAddress</span><span class="p">();</span> <span class="c1">// string(&quot;127.0.0.1&quot;)</span>
<a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">Exception\WrongVersionException</span> <span class="nv">$e</span><span class="p">)</span> <span class="p">{</span>
<a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>    <span class="k">echo</span> <span class="s1">&#39;Cannot convert a version 6 address to dot-notation!&#39;</span><span class="p">;</span>
<a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="p">}</span>
</code></pre></div>
<h3 id="compacted-address">Compacted Address</h3>
<p><code>getCompactedAddress()</code> is only available for <code>IPv6</code> and <code>Multi</code> classes.
Calling <code>getCompactedAddress()</code> on an instance of <code>Multi</code> that contains a
version 4 address will result in the IP address being converted to a version 6
address according to the embedding strategy.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="cp">&lt;?php</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="k">use</span> <span class="nx">Darsyn\IP\Version\Multi</span> <span class="k">as</span> <span class="nx">IP</span><span class="p">;</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="nv">$ip</span> <span class="o">=</span> <span class="nx">IP</span><span class="o">::</span><span class="na">factory</span><span class="p">(</span><span class="s1">&#39;127.0.0.1&#39;</span><span class="p">);</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="k">echo</span> <span class="nv">$ip</span><span class="o">-&gt;</span><span class="na">getCompactedAddress</span><span class="p">();</span> <span class="c1">// string(&quot;::ffff:7f00:1&quot;)</span>
</code></pre></div>
<h3 id="expanded-address">Expanded Address</h3>
<p><code>getExpandedAddress()</code> is only available for <code>IPv6</code> and <code>Multi</code> classes. Calling
<code>getExpandedAddress()</code> on an instance of <code>Multi</code> that contains a version 4
address will result in the IP address being converted to a version 6 address
according to the embedding strategy.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="cp">&lt;?php</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="k">use</span> <span class="nx">Darsyn\IP\Version\Multi</span> <span class="k">as</span> <span class="nx">IP</span><span class="p">;</span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="nv">$ip</span> <span class="o">=</span> <span class="nx">IP</span><span class="o">::</span><span class="na">factory</span><span class="p">(</span><span class="s1">&#39;127.0.0.1&#39;</span><span class="p">);</span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="nv">$ip</span><span class="o">-&gt;</span><span class="na">getExpandedAddress</span><span class="p">();</span> <span class="c1">// string(&quot;0000:0000:0000:0000:0000:ffff:7f00:0001&quot;)</span>
</code></pre></div>
<h3 id="protocol-appropriate-address">Protocol Appropriate Address</h3>
<p><code>getProtocolAppropriateAddress()</code> is only available for the <code>Multi</code> class. If
the instance of <code>Multi</code> contains a version 4 address, it will be returned in
dot notation, otherwise it returns a compacted version 6 address.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="cp">&lt;?php</span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="k">use</span> <span class="nx">Darsyn\IP\Version\Multi</span> <span class="k">as</span> <span class="nx">IP</span><span class="p">;</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="nv">$ip</span> <span class="o">=</span> <span class="nx">IP</span><span class="o">::</span><span class="na">factory</span><span class="p">(</span><span class="s1">&#39;::ffff:7f00:1&#39;</span><span class="p">);</span>
<a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="nv">$ip</span><span class="o">-&gt;</span><span class="na">getProtocolAppropriateAddress</span><span class="p">();</span> <span class="c1">// string(&quot;127.0.0.1&quot;)</span>
</code></pre></div>
<h3 id="binary">Binary</h3>
<p><code>getBinary()</code> returns the 16 byte (4 bytes if using <code>IPv4</code>) binary string of the
IP address. This will most likely contain non-printable characters, so is not
appropriate for displaying. </p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="cp">&lt;?php</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="k">use</span> <span class="nx">Darsyn\IP\Version\IPv4</span> <span class="k">as</span> <span class="nx">IP</span><span class="p">;</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a>
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="c1">// The IPv4 address &quot;80.111.111.112&quot; just so happens to be, when converted to</span>
<a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="c1">// binary, the same as the binary for the ASCII string &quot;Poop&quot;. Today you learnt</span>
<a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="c1">// something new.</span>
<a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a>
<a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a><span class="nv">$ip</span> <span class="o">=</span> <span class="nx">IP</span><span class="o">::</span><span class="na">factory</span><span class="p">(</span><span class="s1">&#39;80.111.111.112&#39;</span><span class="p">);</span>
<a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="nv">$ip</span><span class="o">-&gt;</span><span class="na">getBinary</span><span class="p">();</span> <span class="c1">// string(&quot;Poop&quot;)</span>
</code></pre></div>
<h2 id="string-casting">String Casting</h2>
<p>Previous versions of this documentation specified that string casting for IP
objects was enabled to get the binary string, but that was unfortunately untrue.
Now, string casting is enabled for all version classes and the <code>__toString()</code>
method is promised in <code>Darsyn\IP\IpInterface</code>:</p>
<ul>
<li>String casting the <code>IPv4</code> class is the equivalent of <code>$ip-&gt;getDotAddress()</code>.</li>
<li>String casting the <code>IPv6</code> class is the equivalent of
  <code>$ip-&gt;getCompactedAddress()</code>.</li>
<li>String casting the <code>Multi</code> class is the equivalent of
  <code>$ip-&gt;getProtocolAppropriateAddress()</code>.</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="cp">&lt;?php</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="k">use</span> <span class="nx">Darsyn\IP\Version\Multi</span> <span class="k">as</span> <span class="nx">IP</span><span class="p">;</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="nv">$ip</span> <span class="o">=</span> <span class="nx">IP</span><span class="o">::</span><span class="na">factory</span><span class="p">(</span><span class="s1">&#39;::ffff:7f00:1&#39;</span><span class="p">);</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="nv">$printableString</span> <span class="o">=</span> <span class="p">(</span><span class="nx">string</span><span class="p">)</span> <span class="nv">$ip</span><span class="p">;</span> <span class="c1">// string(&quot;127.0.0.1&quot;)</span>
</code></pre></div>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="02-installation.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: Installation" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Installation
            </div>
          </div>
        </a>
      
      
        
        <a href="04-helpers.html" class="md-footer__link md-footer__link--next" aria-label="Next: Helper Methods" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Helper Methods
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": ".", "features": [], "search": "assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.a6c66575.min.js"></script>
      
    
  </body>
</html>